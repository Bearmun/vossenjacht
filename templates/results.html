<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vreetvos resultaten</title> <!-- Changed -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Vreetvos resultaten</h1> <!-- Changed -->
    {% if db_error %}
        <p style="color: red;">Database Fout: {{ db_error }}</p>
    {% endif %}
    {% if entries %}
        <table>
            <colgroup>
                <col style="width: 10%;"> <!-- Plaats -->
                <col style="width: 25%;"> <!-- Naam -->
                <col style="width: 15%;"> <!-- Gereden KM -->
                <col style="width: 15%;"> <!-- Duur (minuten) -->
                <col style="width: 10%;"> <!-- Begin KM -->
                <col style="width: 10%;"> <!-- Eind KM -->
                <col style="width: 15%;"> <!-- Aankomsttijd -->
            </colgroup>
            <thead>
                <tr>
                    <th>Plaats</th> <!-- New First Column -->
                    <th>Naam</th>
                    <th>Gereden KM</th>
                    <th>Duur (minuten)</th>
                    <th>Begin KM</th>
                    <th>Eind KM</th>
                    <th>Aankomsttijd Laatste Vos</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in entries %}
                <tr class="{% if entry.rank == 1 %}rank-gold{% elif entry.rank == 2 %}rank-silver{% elif entry.rank == 3 %}rank-bronze{% endif %}">
                    <td>{{ entry['rank'] }}</td> <!-- New First Cell for Rank -->
                    <td>{{ entry.name }}</td>
                    <td>{{ entry['calculated_km']|int }}</td>
                    <td>{{ entry['duration_minutes'] if entry['duration_minutes'] is not none else 'N/A' }}</td>
                    <td>{{ entry['start_km']|int }}</td>
                    <td>{{ entry['end_km']|int }}</td>
                    <td>{{ entry.arrival_time_last_fox }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Nog geen ritten ingevoerd.</p>
    {% endif %}
    <h2>Totaal Aantal Gereden Kilometers (iedereen): {{ total_kilometers_all_participants|int }} km</h2>
    <br>
    {% if session.logged_in %}
        <a href="{{ url_for('input_form') }}">Nieuwe Rit Invoeren</a> |
        <a href="{{ url_for('settings') }}">Instellingen</a> |
        <a href="{{ url_for('logout') }}">Uitloggen</a>
    {% else %}
        <a href="{{ url_for('login') }}">Inloggen om Rit In te Voeren</a>
    {% endif %}
</body>
</html>
