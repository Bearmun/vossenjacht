<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instellingen - Vreetvos Resultaten</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Instellingen</h1>
    <p><a href="{{ url_for('results') }}">Terug naar Resultaten</a> | <a href="{{ url_for('input_form') }}">Nieuwe Rit Invoeren</a> | <a href="{{ url_for('logout') }}">Uitloggen</a></p>

    <h2>Huidige Ritten</h2>
    {% if entries %}
        <table class="settings-table"> <!-- Added a class for potential specific styling -->
            <thead>
                <tr>
                    <th>Plaats</th>
                    <th>Naam</th>
                    <th>Gereden KM</th>
                    <th>Duur (min)</th>
                    <th>Begin KM</th>
                    <th>Eind KM</th>
                    <th>Aankomsttijd</th>
                    <th>Acties</th> <!-- Uncommented and added -->
                </tr>
            </thead>
            <tbody>
                {% for entry in entries %}
                <tr>
                    <td>{{ entry['rank'] }}</td>
                    <td>{{ entry['name'] }}</td>
                    <td>{{ entry['calculated_km']|int }}</td>
                    <td>{{ entry['duration_minutes']|int }}</td>
                    <td>{{ entry['start_km']|int }}</td>
                    <td>{{ entry['end_km']|int }}</td>
                    <td>{{ entry['arrival_time_last_fox'] }}</td>
                    <td>
                        <a href="{{ url_for('edit_entry', entry_id=entry.id) }}" class="button-link-edit">Bewerk</a> |
                        <form method="POST" action="{{ url_for('delete_entry', entry_id=entry.id) }}" style="display:inline;" onsubmit="return confirm('Weet je zeker dat je deze rit wilt verwijderen?');">
                            <input type="submit" value="Verwijder" class="button-link-delete">
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Geen ritten in de database.</p>
    {% endif %}

        <hr style="margin-top: 30px; margin-bottom: 20px;">
        <h2>Database Beheer</h2>
        <div style="border: 1px solid red; padding: 15px; background-color: #ffeeee;">
            <h3 style="color: red; margin-top: 0;">Verwijder Alle Ritten</h3>
            <p style="color:red; font-weight:bold;">WAARSCHUWING: Deze actie kan niet ongedaan worden gemaakt en zal ALLE ritten permanent uit de database verwijderen!</p>
            <form method="POST" action="{{ url_for('clear_database') }}" onsubmit="return confirm('LET OP: Alle ritten worden permanent verwijderd! Weet je het ZEKER?');">
                <label for="confirm_text_clear_all">Om te bevestigen dat je alle ritten wilt verwijderen, typ "<strong>VERWIJDER ALLES</strong>" in het onderstaande veld:</label><br>
                <input type="text" name="confirm_text" id="confirm_text_clear_all" required pattern="VERWIJDER ALLES" title="Typ exact 'VERWIJDER ALLES' om te bevestigen."><br><br>
                <input type="submit" value="Verwijder Alle Ritten Definitief" style="background-color:#dc3545; color:white; padding:10px 15px; border:none; border-radius:4px; cursor:pointer;">
            </form>
        </div>
</body>
</html>
